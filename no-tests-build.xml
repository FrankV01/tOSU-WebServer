<?xml version="1.0"?>
<!--
	========================================================================
	Basic build file for InetServer and Client. 
	Based on http://ant.apache.org/manual/using.html#example
	
	(c) 2010 Frank Villasenor - LGPL
	
	Run "ant -projecthelp" to get a list of available targets.
	
	See http://ant.apache.org/manual/install.html#installing for 
	ant installation instructions.
	========================================================================
-->

<project name="InetClientServer" default="build">
	<description>
This is a basic build file for the "InetClientServer" programs.

This does not produce a jar file; it does build or a clean build.

Source code must be in:
${src}

Resulting output goes to:
${build}
	</description>
	
	<!-- Properties -->
	<property name="src" location="src" />
	<property name="build" location="build" />
	<!-- <property name="dist" location="dist" /> -->
	<property name="doc" location="javadocs" />
	
	<property name="project-name" value="Joke Server" />
	<property name="compiler.args" value="-Xlint" />
	
	<target name="init">
		<echo>Project: ${project-name}</echo>
		<echo>Built files are placed at ${build}</echo>
		<echo>compiler.args = ${compiler.args}</echo>
		
		<!-- Create the build directory -->
		<mkdir dir="${build}" />
	</target>
	
	<!-- build project, run tests if applicable. -->
	<target name="build" depends="init" 
		description="Build project; tests are not ran.">
		
		<!-- Compile the source from ${src} into ${build} -->
		<javac 
			srcdir="${src}" 
			destdir="${build}" 
			debug="on" 
			deprecation="on"
			verbose="off">
			<compilerarg value="${compiler.args}"/>
		</javac>
		
	</target>
	
	
	<target name="clean" description="Remove built files">
		<!-- Delete the ${build} and ${dist} directories. -->
		<delete dir="${build}" />
		<!-- <delete dir="${dist}" /> -->
		<delete dir="${doc}" />
	</target>
	
	<target 
		name="clean-build" 
		depends="clean,build" 
		description="Does a clean build" />
		
	
	<!-- Build JavaDoc documentation... Mostly for my reference -->
	<target name="doc" depends="" description="Creates JavaDoc Documentation">
		<!-- Delete old version then recreate folder -->
		<delete dir="${doc}" />
		<mkdir dir="${doc}" />
		
		<javadoc 
			destdir="${doc}"
			author="true"
           	version="true"
           	use="true"
           	windowtitle="Joker Server - CSC-435 Project"
			access="private">
			
		    <fileset dir="${src}" defaultexcludes="yes">
		      <include name="**.java"/>
		    	
		      <exclude name="**.txt"/>
		      <exclude name="**.log" />
		      <exclude name="${doc}/**" />
		    </fileset>
			
			<doctitle><![CDATA[<h1>CSC-435 - Joke Server / Client</h1>]]></doctitle>
			<bottom><![CDATA[<i>Copyright &#169; 2010 Frank Villasenor. All Rights Reserved.</i>]]></bottom>
			<group title="Group 1 Packages" packages="${src}.*" />

		</javadoc>
	</target>
</project>
